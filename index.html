<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>TODO</title>
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#000000">
  <meta name="description" content="A simple, private to-do app with folders, recurring tasks, encrypted sync, and offline support.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://todo.73.nu/">
  <meta property="og:title" content="TODO">
  <meta property="og:description" content="A simple, private to-do app with folders, recurring tasks, encrypted sync, and offline support.">
  <meta property="og:url" content="https://todo.73.nu/">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:locale:alternate" content="de_DE">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="TODO">
  <meta name="twitter:description" content="A simple, private to-do app with folders, recurring tasks, encrypted sync, and offline support.">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; base-uri 'self'; object-src 'none'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; connect-src 'self'; worker-src 'self'; manifest-src 'self';">
  <link rel="stylesheet" href="/style.css">
  <script type="module" src="/script.js"></script>
</head>

<body>
  <header class="header">
    <div class="header-inner">
      <nav class="header-nav">
        <button class="icon-btn" onclick="App.nav(-1)" title="Previous day" aria-label="Previous day">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M15 18l-6-6 6-6"/></svg>
        </button>
        <div class="date-display" onclick="App.openDatePicker()" id="dateDisplay">
          <span id="dateMain"></span>
          <span class="date-sub" id="dateSub"></span>
          <input type="date" class="date-picker-hidden" id="datePicker" onchange="App.jumpTo(this.value)">
        </div>
        <button class="icon-btn" onclick="App.nav(1)" title="Next day" aria-label="Next day">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M9 18l6-6-6-6"/></svg>
        </button>
      </nav>

      <div class="header-actions">
        <div style="position:relative" id="folderWrap">
          <button class="folder-btn" id="folderBtn" onclick="App.toggleFolderMenu(event)"></button>
          <span class="folder-badge" id="folderBadge" style="display:none"></span>
          <div class="folder-menu" id="folderMenu"></div>
        </div>
        <button class="icon-btn" onclick="Modal.open('list')" title="All todos" aria-label="All todos">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"/></svg>
        </button>
        <button class="icon-btn gear" onclick="Modal.open('settings')" title="Settings" aria-label="Settings">
          <svg viewBox="0 0 512 512"><path d="M195.1 9.5C198.1-5.3 211.2-16 226.4-16l59.8 0c15.2 0 28.3 10.7 31.3 25.5L332 79.5c14.1 6 27.3 13.7 39.3 22.8l67.8-22.5c14.4-4.8 30.2 1.2 37.8 14.4l29.9 51.8c7.6 13.2 4.9 29.8-6.5 39.9L447 233.3c.9 7.4 1.3 15 1.3 22.7s-.5 15.3-1.3 22.7l53.4 47.5c11.4 10.1 14 26.8 6.5 39.9l-29.9 51.8c-7.6 13.1-23.4 19.2-37.8 14.4l-67.8-22.5c-12.1 9.1-25.3 16.7-39.3 22.8l-14.4 69.9c-3.1 14.9-16.2 25.5-31.3 25.5l-59.8 0c-15.2 0-28.3-10.7-31.3-25.5l-14.4-69.9c-14.1-6-27.2-13.7-39.3-22.8L73.5 432.3c-14.4 4.8-30.2-1.2-37.8-14.4L5.8 366.1c-7.6-13.2-4.9-29.8 6.5-39.9l53.4-47.5c-.9-7.4-1.3-15-1.3-22.7s.5-15.3 1.3-22.7L12.3 185.8c-11.4-10.1-14-26.8-6.5-39.9L35.7 94.1c7.6-13.2 23.4-19.2 37.8-14.4l67.8 22.5c12.1-9.1 25.3-16.7 39.3-22.8L195.1 9.5zM256.3 336a80 80 0 1 0-.6-160 80 80 0 1 0 .6 160z"/></svg>
        </button>
        <button class="icon-btn btn-add" onclick="App.openAdd()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M12 5v14M5 12h14"/></svg>
          <span id="addBtnLabel">Add</span>
        </button>
      </div>
    </div>
  </header>

  <main class="main" id="mainContent"></main>

  <div class="modal" id="addModal" role="dialog" aria-modal="true" aria-labelledby="addModalTitle">
    <div class="modal-header">
      <span class="modal-title" id="addModalTitle"></span>
      <button class="modal-close" onclick="Modal.close('add')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
    </div>
    <div class="modal-body" id="addModalBody"></div>
  </div>

  <div class="modal" id="listModal" role="dialog" aria-modal="true" aria-labelledby="listModalTitle">
    <div class="modal-header">
      <span class="modal-title" id="listModalTitle"></span>
      <button class="modal-close" onclick="Modal.close('list')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
    </div>
    <div class="modal-body" id="listModalBody"></div>
  </div>

  <div class="modal" id="settingsModal" role="dialog" aria-modal="true" aria-labelledby="settingsModalTitle">
    <div class="modal-header">
      <span class="modal-title" id="settingsModalTitle"></span>
      <button class="modal-close" onclick="Modal.close('settings')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
    </div>
    <div class="modal-body" id="settingsModalBody"></div>
  </div>

  <div class="modal" id="detailModal" role="dialog" aria-modal="true" aria-labelledby="detailModalTitle">
    <div class="modal-header">
      <span class="modal-title" id="detailModalTitle"></span>
      <button class="modal-close" onclick="Modal.close('detail')"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
    </div>
    <div class="modal-body" id="detailModalBody"></div>
  </div>

  <div class="confirm-overlay" id="confirmDialog" onclick="if(event.target===this)this.classList.remove('open')">
    <div class="confirm-box">
      <h3 id="confirmTitle"></h3>
      <p id="confirmMsg"></p>
      <div class="confirm-actions" id="confirmActions"></div>
    </div>
  </div>
  
  <div id="welcomeModal">
  <div class="welcome-card">
    <div class="welcome-body" id="welcomeBody"></div>
    <div class="welcome-footer">
      <div class="welcome-dots" id="welcomeDots"></div>
      <div class="welcome-nav" id="welcomeNav"></div>
    </div>
  </div>
  </div>

  <div class="sync-copy-toast" id="syncToast"></div>

  <input type="file" id="importFile" accept=".json" style="display:none" onchange="Settings.handleImport(event)">

</body>
</html>
